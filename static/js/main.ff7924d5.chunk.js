(this["webpackJsonphackerbay-frontend"]=this["webpackJsonphackerbay-frontend"]||[]).push([[0],{15:function(e,t,r){e.exports=r(28)},20:function(e,t,r){},21:function(e,t,r){},28:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(8),i=r.n(o),l=(r(20),r(3)),c=r(4),s=r(6),u=r(5),h=(r(21),r(1)),v="MOVE",d=function(e){Object(s.a)(r,e);var t=Object(u.a)(r);function r(){return Object(l.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){var e=this.props,t=e.over,r=e.steps;return a.a.createElement("div",{id:"panel"},a.a.createElement("div",null,a.a.createElement("h2",null,"Use the arrow keys to play. Collect all the sprites.")),a.a.createElement("div",{id:"steps"},a.a.createElement("h2",null,"steps: ",r)),a.a.createElement("div",{id:"game-over"},a.a.createElement("h1",null,t?"Game Over":"")))}}]),r}(a.a.Component),p=Object(h.b)((function(e){return{over:e.game.over,steps:e.steps}}))(d),m=r(2),f="LEFT",b="RIGHT",w="UP",y="DOWN",g="ArrowLeft",O="ArrowRight",E="ArrowUp",j="ArrowDown",k=function(e){Object(s.a)(r,e);var t=Object(u.a)(r);function r(){return Object(l.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){for(var e=this.props.length,t=this,r=[],n=0;n<e;n++){for(var o=[],i=0;i<e;i++)o.push("EMPTY");r.push(o)}var l,c=this.props.locations,s=Object(m.a)(c.mushrooms);try{for(s.s();!(l=s.n()).done;){var u=l.value,h=u.row,v=u.col;u.visible&&(r[h][v]="MUSHROOM")}}catch(b){s.e(b)}finally{s.f()}var d=c.player,p=d.row,f=d.col;return r[p][f]="PLAYER",r.map((function(e,r){return a.a.createElement("div",{className:"row",key:r},e.map((function(e,r){return a.a.createElement("div",{className:t.getClassName(e),key:r})})))}))}},{key:"componentDidMount",value:function(){var e=this.props.move;document.onkeydown=function(t){switch(t.key){case E:e(w);break;case j:e(y);break;case g:e(f);break;case O:e(b)}}}},{key:"getClassName",value:function(e){switch(e){case"PLAYER":return"square player";case"MUSHROOM":return"square mushroom";default:return"square"}}}]),r}(a.a.Component),M=Object(h.b)((function(e){return{locations:e.locations}}),(function(e){return{move:function(t){return e(function(e){return{type:v,direction:e}}(t))}}}))(k),N=function(e){Object(s.a)(r,e);var t=Object(u.a)(r);function r(){return Object(l.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){var e=this.props,t=e.initialized,r=e.length;return a.a.createElement("div",{className:"App"},t?a.a.createElement(M,{length:r}):a.a.createElement("div",null),a.a.createElement(p,null))}},{key:"componentDidMount",value:function(){var e=prompt("Enter board length: "),t=Number.parseInt(e);Number.isNaN(t)?(alert("Enter a valid number."),window.location.reload()):t<3?(alert("Length too small"),window.location.reload()):t>20?(alert("Length too big"),window.location.reload()):this.props.init(t)}}]),r}(a.a.Component),I=Object(h.b)((function(e){var t=e.board;return{initialized:t.initialized,length:t.length}}),(function(e){return{init:function(t){return e({type:"INIT",length:t})}}}))(N),A={initialized:!1,length:null},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT":return{initialized:!0,length:t.length}}return e},C=r(7);function L(e){for(var t,r=Math.pow(e,2),n=new Set;n.size<e+1;){var a=(t=r,Math.floor(Math.random()*Math.floor(t)));n.add(a)}var o=Array.from(n.values()).map((function(t){return{row:Math.floor(t/e),col:t%e}})),i={mushrooms:[],player:null},l=function(e,t){var r,n,a={row:Math.floor(t/2),col:Math.floor(t/2)},o=1/0,i=Object(m.a)(e);try{for(i.s();!(n=i.n()).done;){var l=n.value,c=(s=l,u=a,Math.pow(u.col-s.col,2)+Math.pow(u.row-s.row,2));c<o&&(o=c,r=l)}}catch(h){i.e(h)}finally{i.f()}var s,u;return r}(o,e);i.player=l;var c,s=Object(m.a)(o);try{for(s.s();!(c=s.n()).done;){var u=c.value;l!==u&&i.mushrooms.push(u)}}catch(h){s.e(h)}finally{s.f()}return i}var R={};function T(e,t,r){return 0<=e&&e<r&&0<=t&&t<r}var U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;switch(t.type){case"INIT":var n=L(t.length);return n.mushrooms.forEach((function(e){e.visible=!0})),n;case v:var a=t.direction,o=e.player,i=o.row,l=o.col;switch(a){case w:var c=i-1,s=l;break;case y:c=i+1,s=l;break;case f:c=i,s=l-1;break;case b:c=i,s=l+1}if(T(c,s,r.length)){var u,h=Object(m.a)(e.mushrooms);try{for(h.s();!(u=h.n()).done;){var d=u.value;d.row===c&&d.col===s&&(d.visible=!1)}}catch(p){h.e(p)}finally{h.f()}return Object(C.a)(Object(C.a)({},e),{},{player:{row:c,col:s}})}}return e},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return e+1}return e},P={over:!1},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;switch(t.type){case v:return Object(C.a)(Object(C.a)({},e),{},{over:r.mushrooms.every((function(e){return!e.visible}))})}return e},q={steps:0,locations:{player:{row:0,col:3},mushrooms:[{row:4,col:3,visible:!0}]},board:{initialized:!1,length:10},game:{over:!1}};var H=r(9),W=Object(H.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;return{board:z(e.board,t),locations:U(e.locations,t,e.board),steps:D(e.steps,t),game:S(e.game,t,e.locations)}}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(h.a,{store:W},a.a.createElement(I,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[15,1,2]]]);
//# sourceMappingURL=main.ff7924d5.chunk.js.map